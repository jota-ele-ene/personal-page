<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8"/>
        <script type="text/javascript">
            window.onload = function () {
                var img = document.getElementById('embedImage');
                var button = document.getElementById('saveImage');
                img.src = toDataUrl('https://source.unsplash.com/random?nature=9149174914', function(base64Img){
                // Base64DataURL
            });;
                img.onload = function () {
                    button.removeAttribute('disabled');
                };
                button.onclick = function () {
                    window.location.href = img.src.replace('image/png', 'image/octet-stream');
                };
            };
            
            function toDataUrl(url, callback, outputFormat){
                var img = new Image();
                img.crossOrigin = 'Anonymous';
                img.onload = function(){
                    var canvas = document.createElement('CANVAS');
                    var ctx = canvas.getContext('2d');
                    var dataURL;
                    canvas.height = this.height;
                    canvas.width = this.width;
                    ctx.drawImage(this, 0, 0);
                    dataURL = canvas.toDataURL(outputFormat);
                    callback(dataURL);
                    canvas = null; 
                };
                img.src = url;
            }
            
        </script>
    </head>
    <body>
        <img id="embedImage" alt="Red dot"/>
        <img src="https://source.unsplash.com/random?nature=9149174914" class="fullbg active" alt="" id="background" />
        <input id="saveImage" type="button" value="save image" disabled="disabled"/>
    </body>
</html>